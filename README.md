# Stack

Needed :

- Python 3.8
- node 18

This project include

## Back (server)
- Django
- DRF
- Daphne/Channels
- Invoke

The django settings are divided in 3 env (dev, test, prod). The setting modules is define by environnement variable (``` export DJANGO_SETTINGS_MODULE=server.settings.dev ```).

Your WSGI web server need to be plug to that.

Django point to the dist folder of the client part

## Front (client)
- Vite
- VueJs/Vuex/Vue-router
- SASS

The main concept of developpment is to use the vuejs and django servers in dev environnment to take the maximum advantage of the HMR and finally in the production context use django to serve the built content of the /dist folder generated by the client.

# Install 

## Windows

```shell

# PROJECT is the path to your project
cd PROJECT
pip install -r .\requierement.txt

cd ./client
npm install

```

## WSL
```shell
# WSL
wsl --install -d debian

su 

# APT
apt upgrade
apt install pip
apt install python3
apt install python3-distutils
apt install memcached
apt install redis-server
apt install git
apt install curl
apt install python
apt install libsasl2-dev
apt install python-dev
apt install libssl-dev

# NODE
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash - &&\
sudo apt-get install -y nodejs

# IMPORTANT for performances the PROJECT MUST BE in on the linux side
# PROJECT is the path to your project
cd PROJECT 
pip install -r requirements.txt

cd ./client
npm install

```

## Debian

```shell

su 

# APT
apt upgrade
apt install pip
apt install python3
apt install python3-distutils
apt install memcached
apt install redis-server
apt install git
apt install curl
apt install python
apt install libsasl2-dev
apt install python-dev
apt install libssl-dev

# NODE
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash - &&\
sudo apt-get install -y nodejs

# PROJECT is the path to your project
cd PROJECT 
pip install -r requirements.txt

cd ./client
npm install
npm install -g vite

```

# Dev

## Django

To start the dev server : 

```shell
manage.py runserver 0.0.0.0:99
```

## Npm

```shell
npm run dev # launchs the vuejs dev server
npm run build # build the front end in the /dist folder
npm run preview # launchs a server with the content of /dist server
```